{% extends "base.html" %}

{% block title %}Home{% endblock %}

{% block content %}
<section class="main-section">
    <br/>
    {% if user.is_authenticated %}
    <small class="welcome">Welcome, <a href="#">{{ user.name }}</a>!</small>
    {% endif %}
    <div class="row">
        <div class="large-12 columns">
            <br/><br/><br/>
            <a href="#" class="button small radius round" data-reveal-id="myModal">Add</a>
            <table>
                <thead>
                <tr>
                    <th width="250">Name</th>
                    <th width="250">Type</th>
                    <th width="250">Date</th>
                    <th width="250">Value</th>
                </tr>
                </thead>
                <tbody>
                {% for bill in bills %}
                <tr>
                    <td>{{ bill.name }}</td>
                    <td>{{ bill.bill_type }}</td>
                    <td>{{ bill.created_at }}</td>
                    <td class="{% if bill.bill_type == 'revenue' %}revenue{% elif bill.bill_type == 'expense' %}expense{% endif %}">${{ bill.value }}</td>
                </tr>
                {% empty %}
                <tr>
                    <td>----------</td>
                    <td>----------</td>
                    <td>----------</td>
                    <td>----------</td>
                </tr>
                {% endfor %}
                </tbody>
            </table>
            <small>Total: <b class="{% if total > 0 %}revenue{% elif total < 0 %}expense{% endif %}">${{ total }}</b></small>
            <hr/>
        </div>
    </div>
</section>
<div id="myModal" class="reveal-modal" data-reveal>
    <h2>Add new entry</h2>
    <fieldset>
        <form data-abide>
            <div class="name-field">
                <label>Name
                    <small>required</small>
                    <input type="text" required pattern="[a-zA-Z]+">
                </label>
                <small class="error">Name is required and must be a string.</small>
            </div>
            <div class="row collapse">
                <label for="customDropdown1">Type
                    <small>required</small>
                    <select id="customDropdown1" class="medium" required>
                        <option value="">--Select--</option>
                        <option value="first">Revenue</option>
                        <option value="second">Expense</option>
                    </select>
                </label>
                <small class="error">Type is required.</small>
            </div>
            <br/>

            <div class="row">
                <div class="number-field large-3">
                    <label>Value ($)
                        <small>required</small>
                        <input type="number" required>
                    </label>
                    <small class="error">Date is required.</small>
                </div>
            </div>
            <hr/>
            <button type="submit">Submit</button>
        </form>
    </fieldset>
    <a class="close-reveal-modal">&#215;</a>
</div>
{% endblock %}